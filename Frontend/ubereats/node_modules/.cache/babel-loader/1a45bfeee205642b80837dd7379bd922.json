{"ast":null,"code":"var _jsxFileName = \"/Users/reshmakrishnakumar/Desktop/FALL_2021/CMPE-273/Assignments/Lab1/Frontend/ubereats/src/components/LandingPage/AddDishes.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport NavBar from \"./NavBar.jsx\";\nimport Axios from \"axios\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddDishes() {\n  _s();\n\n  let resName = JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"];\n  const [dishName, setDishName] = useState(\"\");\n  const [dishIngredients, setDishIngredients] = useState(\"\");\n  const [dishImg, setDishImg] = useState(\"\");\n  const [dishPrice, setDishPrice] = useState(\"\");\n  const [dishDescription, setDishDescription] = useState(\"\");\n  const [dishCategory, setDishCategory] = useState(\"\");\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n    });\n  };\n\n  const handleImageChange = async e => {\n    const selected = e.target.files[0];\n    const base64 = await convertBase64(selected);\n    setDishImg(base64);\n    const ALLOWED_TYPES = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n\n    if (selected && ALLOWED_TYPES.includes(selected.type)) {\n      let reader = new FileReader();\n\n      reader.onloadend = () => {\n        setDishImg(reader.result);\n      };\n\n      reader.readAsDataURL(selected);\n    }\n  };\n\n  const addDish = resName => {\n    Axios.post(\"http://localhost:3001/AddDishes\", {\n      dishName: dishName,\n      dishIngredients: dishIngredients,\n      dishImg: dishImg,\n      dishPrice: dishPrice,\n      dishDescription: dishDescription,\n      dishCategory: dishCategory,\n      resName: resName\n    }).then(response => {\n      console.log(response);\n    }).catch(err => {\n      console.log(err);\n    });\n    alert(\"Added successfully\");\n    window.open(\"/RestaurantLanding\", \"_self\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    style: {\n      marginTop: \"30px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"dishName\",\n        placeholder: \"Name of the Dish\",\n        onChange: e => {\n          setDishName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"dishIngredients\",\n        placeholder: \"Ingredients\",\n        onChange: e => {\n          setDishIngredients(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"form-control\",\n            name: \"dishImg\",\n            placeholder: \"Image\",\n            onChange: e => {\n              handleImageChange(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body file\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"dishPrice\",\n        placeholder: \"Price of the Dish\",\n        onChange: e => {\n          setDishPrice(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"dishDescription\",\n        placeholder: \"Description of the food\",\n        onChange: e => {\n          setDishDescription(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"dishCategory\",\n        placeholder: \"Category of food\",\n        onChange: e => {\n          setDishCategory(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-light\",\n      onClick: addDish,\n      children: \"Save Changes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddDishes, \"5SbQok6v5HBPQFgK+FfFeau2Mc8=\");\n\n_c = AddDishes;\nexport default AddDishes;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddDishes\");","map":{"version":3,"sources":["/Users/reshmakrishnakumar/Desktop/FALL_2021/CMPE-273/Assignments/Lab1/Frontend/ubereats/src/components/LandingPage/AddDishes.jsx"],"names":["React","useState","NavBar","Axios","Row","Col","AddDishes","resName","JSON","parse","localStorage","getItem","dishName","setDishName","dishIngredients","setDishIngredients","dishImg","setDishImg","dishPrice","setDishPrice","dishDescription","setDishDescription","dishCategory","setDishCategory","convertBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","handleImageChange","e","selected","target","files","base64","ALLOWED_TYPES","includes","type","reader","onloadend","addDish","post","then","response","console","log","catch","err","alert","window","open","marginTop","value"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport NavBar from \"./NavBar.jsx\"\nimport Axios from \"axios\";\nimport {Row,Col} from \"react-bootstrap\"\n\nfunction AddDishes() {\n\n  let resName=(JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"]);\n\n  const[dishName,setDishName]= useState(\"\");\n  const [dishIngredients,setDishIngredients] = useState(\"\");\n  const [dishImg,setDishImg] = useState(\"\");\n  const [dishPrice,setDishPrice] = useState(\"\");\n  const [dishDescription,setDishDescription] = useState(\"\");\n  const [dishCategory,setDishCategory] = useState(\"\");\n\n  const convertBase64=(file)=>{\n    return new Promise((resolve,reject)=>{\n      const fileReader=new FileReader();\n      fileReader.readAsDataURL(file);\n      fileReader.onload=()=>{\n        resolve(fileReader.result)\n      };\n    });\n  }\n\n  const handleImageChange = async (e) => {\n    const selected=e.target.files[0];\n    const base64=await convertBase64(selected);\n    setDishImg(base64);\n    const ALLOWED_TYPES = [\"image/png\",\"image/jpeg\",\"image/jpg\"];\n    if(selected&&ALLOWED_TYPES.includes(selected.type)){\n      let reader=new FileReader();\n      reader.onloadend=()=>{\n        setDishImg(reader.result);\n      }\n      reader.readAsDataURL(selected);\n    }\n  }\n\n  const addDish = (resName) => {\n    Axios.post(\"http://localhost:3001/AddDishes\",{\n      dishName:dishName,\n      dishIngredients:dishIngredients,\n      dishImg:dishImg,\n      dishPrice:dishPrice,\n      dishDescription:dishDescription,\n      dishCategory:dishCategory,\n      resName:resName\n    }).then((response) =>{\n      console.log(response)\n    }).catch(err =>{\n      console.log(err);\n    })\n    alert(\"Added successfully\")\n    window.open(\"/RestaurantLanding\",\"_self\")\n  }\n\n\n\n  return(\n    <div className=\"card\" style={{marginTop:\"30px\"}}>\n    <NavBar />\n    <div className=\"card-body\">\n    <h2>{JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"]}</h2>\n    </div>\n    <div className=\"card-body\">\n    <input\n     type=\"text\"\n     className = \"form-control\"\n     name=\"dishName\"\n     placeholder=\"Name of the Dish\"\n     onChange = {\n       (e) => {\n         setDishName(e.target.value);\n       }\n     }\n    />\n    </div>\n    <div className=\"card-body\">\n    <input\n     type=\"text\"\n    className = \"form-control\"\n     name=\"dishIngredients\"\n     placeholder=\"Ingredients\"\n     onChange = {\n       (e) => {\n         setDishIngredients(e.target.value);\n       }\n     }\n    />\n    </div>\n    <Row>\n    <Col>\n    <div className=\"card-body\">\n    <input\n     type=\"file\"\n    className = \"form-control\"\n     name=\"dishImg\"\n     placeholder=\"Image\"\n     onChange = {\n       (e) => {\n           handleImageChange(e);\n       }\n     }\n    />\n    </div>\n    </Col>\n    </Row>\n    <div className=\"card-body file\">\n    <input\n    type=\"text\"\n   className = \"form-control\"\n    name=\"dishPrice\"\n    placeholder=\"Price of the Dish\"\n    onChange= { e => {\n      setDishPrice(e.target.value);\n    }}\n    />\n    </div>\n    <div className=\"card-body\">\n    <input\n    type=\"text\"\n    className = \"form-control\"\n    name=\"dishDescription\"\n    placeholder=\"Description of the food\"\n    onChange= { e => {\n      setDishDescription(e.target.value);\n    }}\n    />\n    </div>\n    <div className=\"card-body\">\n    <input\n    type=\"text\"\n    className = \"form-control\"\n    name=\"dishCategory\"\n    placeholder=\"Category of food\"\n    onChange= { e => {\n      setDishCategory(e.target.value);\n    }}\n    />\n   </div>\n     <button type=\"button\" class=\"btn btn-outline-light\" onClick={addDish}>Save Changes</button>\n    </div>\n  )\n}\n\n\nexport default AddDishes;\n"]},"metadata":{},"sourceType":"module"}