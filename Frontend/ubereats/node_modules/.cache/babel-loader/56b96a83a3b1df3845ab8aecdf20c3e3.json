{"ast":null,"code":"var _jsxFileName = \"/Users/reshmakrishnakumar/Desktop/FALL_2021/CMPE-273/Assignments/Lab1/Frontend/ubereats/src/components/LandingPage/Edit.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, Fragment } from 'react';\nimport NavBar from \"./NavBar.jsx\";\nimport Axios from \"axios\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Edit() {\n  _s();\n\n  const [nameErr, setNameErr] = useState({});\n  const [descriptionErr, setDescriptionErr] = useState({});\n  const [error, setError] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newLocation, setNewLocation] = useState(\"\");\n  const [newImg, setNewImg] = useState(\"\");\n  const [newDescription, setNewDescription] = useState(\"\");\n  const [newContact, setNewContact] = useState(\"\");\n  const [newTimings, setNewTimings] = useState(\"\");\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n    });\n  };\n\n  const handleImageChange = async e => {\n    const selected = e.target.files[0];\n    const base64 = await convertBase64(selected);\n    setNewImg(base64);\n    const ALLOWED_TYPES = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n\n    if (selected && ALLOWED_TYPES.includes(selected.type)) {\n      let reader = new FileReader();\n\n      reader.onloadend = () => {\n        setNewImg(reader.result);\n      };\n\n      reader.readAsDataURL(selected);\n    } else {\n      setError(true);\n      console.log(\"file not supported\");\n    }\n  };\n\n  function stringContainsNumber(_string) {\n    return /\\d/.test(_string);\n  }\n\n  const formValidation = () => {\n    const nameErr = {};\n    const descriptionErr = {};\n    let isValid = true;\n\n    if (stringContainsNumber(newName)) {\n      nameErr.nameContainsNumerics = \"Name cannot contains numerics\";\n      isValid = false;\n    }\n\n    if (stringContainsNumber(newDescription)) {\n      descriptionErr.nameContainsNumerics = \"Name cannot contains numerics\";\n      isValid = false;\n    }\n\n    setNameErr(nameErr);\n    setDescriptionErr(descriptionErr);\n    return isValid;\n  };\n\n  function editRestaurantName() {\n    Axios.put(\"http://localhost:3001/EditName\", {\n      resName: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n      newName: newName\n    });\n    alert(\"Updated successfully\");\n  }\n\n  function editRestaurantLocation() {\n    Axios.put(\"http://localhost:3001/EditLocation\", {\n      resName: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n      newLocation: newLocation\n    });\n    alert(\"Updated successfully\");\n  }\n\n  function editRestaurantImg() {\n    Axios.put(\"http://localhost:3001/EditImg\", {\n      resName: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n      newImg: newImg\n    });\n    alert(\"Updated successfully\");\n  }\n\n  function editRestaurantDescription() {\n    Axios.put(\"http://localhost:3001/EditDescription\", {\n      resName: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n      newDescription: newDescription\n    });\n    alert(\"Updated successfully\");\n  }\n\n  function editRestaurantContact() {\n    Axios.put(\"http://localhost:3001/EditContact\", {\n      resName: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n      newContact: newContact\n    });\n    alert(\"Updated successfully\");\n  }\n\n  function editRestaurantTimings() {\n    Axios.put(\"http://localhost:3001/EditTimings\", {\n      resName: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n      newTimings: newTimings\n    });\n    alert(\"Updated successfully\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"newName\",\n          placeholder: \"Restaurant\",\n          className: \"form-control\",\n          defaultValue: JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n          onChange: e => {\n            setNewName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            borderRadius: \"100%\",\n            backgroundColor: \"green\",\n            width: \"30px\",\n            height: \"20px\"\n          },\n          onClick: editRestaurantName,\n          children: \"\\u2714\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"newLocation\",\n          placeholder: \"Location\",\n          className: \"form-control\",\n          onChange: e => {\n            setNewLocation(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            borderRadius: \"100%\",\n            backgroundColor: \"green\",\n            width: \"30px\",\n            height: \"20px\"\n          },\n          onClick: editRestaurantLocation,\n          children: \"\\u2714\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"fileUpload\",\n          className: \"form-control\",\n          placeholder: \"image\",\n          onChange: e => {\n            handleImageChange(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"(jpeg, jpeg or png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 4\n        }, this), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            borderRadius: \"100%\",\n            backgroundColor: \"green\",\n            width: \"30px\",\n            height: \"20px\"\n          },\n          onClick: editRestaurantImg,\n          children: \"\\u2714\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"newDescription\",\n          placeholder: \"Description\",\n          className: \"form-control\",\n          onChange: e => {\n            setNewDescription(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            borderRadius: \"100%\",\n            backgroundColor: \"green\",\n            width: \"30px\",\n            height: \"20px\"\n          },\n          onClick: editRestaurantDescription,\n          children: \"\\u2714\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          name: \"newContact\",\n          placeholder: \"Contact\",\n          className: \"form-control\",\n          onChange: e => {\n            setNewContact(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            borderRadius: \"100%\",\n            backgroundColor: \"green\",\n            width: \"30px\",\n            height: \"20px\"\n          },\n          onClick: editRestaurantContact,\n          children: \"\\u2714\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        margin: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"newTimings\",\n          placeholder: \"Timings\",\n          className: \"form-control\",\n          onChange: e => {\n            setNewTimings(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: {\n            borderRadius: \"100%\",\n            backgroundColor: \"green\",\n            width: \"30px\",\n            height: \"20px\"\n          },\n          onClick: editRestaurantTimings,\n          children: \"\\u2714\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Edit, \"BNG0vP6jCbPrS8cZyOubhfNdNFU=\");\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["/Users/reshmakrishnakumar/Desktop/FALL_2021/CMPE-273/Assignments/Lab1/Frontend/ubereats/src/components/LandingPage/Edit.jsx"],"names":["React","useState","Fragment","NavBar","Axios","Row","Col","Edit","nameErr","setNameErr","descriptionErr","setDescriptionErr","error","setError","newName","setNewName","newLocation","setNewLocation","newImg","setNewImg","newDescription","setNewDescription","newContact","setNewContact","newTimings","setNewTimings","convertBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","handleImageChange","e","selected","target","files","base64","ALLOWED_TYPES","includes","type","reader","onloadend","console","log","stringContainsNumber","_string","test","formValidation","isValid","nameContainsNumerics","editRestaurantName","put","resName","JSON","parse","localStorage","getItem","alert","editRestaurantLocation","editRestaurantImg","editRestaurantDescription","editRestaurantContact","editRestaurantTimings","margin","value","borderRadius","backgroundColor","width","height"],"mappings":"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","sourcesContent":["import React,{useState,Fragment} from 'react';\nimport NavBar from \"./NavBar.jsx\";\nimport Axios from \"axios\";\nimport {Row,Col} from \"react-bootstrap\"\n\n\nfunction Edit(){\n\n  const[nameErr,setNameErr]=useState({});\n  const[descriptionErr,setDescriptionErr]=useState({});\n\n  const [error,setError]=useState(\"\");\n  const[newName,setNewName]= useState(\"\");\n  const [newLocation,setNewLocation] = useState(\"\");\n  const [newImg,setNewImg] = useState(\"\");\n  const [newDescription,setNewDescription] = useState(\"\");\n  const [newContact,setNewContact] = useState(\"\");\n  const [newTimings,setNewTimings] = useState(\"\");\n\n  const convertBase64=(file)=>{\n    return new Promise((resolve,reject)=>{\n      const fileReader=new FileReader();\n      fileReader.readAsDataURL(file);\n      fileReader.onload=()=>{\n        resolve(fileReader.result)\n      };\n    });\n  }\n\n  const handleImageChange = async (e) => {\n    const selected=e.target.files[0];\n    const base64=await convertBase64(selected);\n    setNewImg(base64);\n    const ALLOWED_TYPES = [\"image/png\",\"image/jpeg\",\"image/jpg\"];\n    if(selected&&ALLOWED_TYPES.includes(selected.type)){\n      let reader=new FileReader();\n      reader.onloadend=()=>{\n        setNewImg(reader.result);\n      }\n      reader.readAsDataURL(selected);\n    }\n    else{\n      setError(true);\n      console.log(\"file not supported\");\n    }\n  }\n\n  function stringContainsNumber(_string) {\n    return /\\d/.test(_string);\n  }\n\n  const formValidation = () => {\n    const nameErr={};\n    const descriptionErr={};\n    let isValid=true;\n\n\n    if(stringContainsNumber(newName)){\n      nameErr.nameContainsNumerics=\"Name cannot contains numerics\";\n      isValid=false;\n    }\n    if(stringContainsNumber(newDescription)){\n      descriptionErr.nameContainsNumerics=\"Name cannot contains numerics\";\n      isValid=false;\n    }\n\n    setNameErr(nameErr);\n    setDescriptionErr(descriptionErr);\n    return isValid;\n  }\n  function editRestaurantName() {\n      Axios.put(\"http://localhost:3001/EditName\",\n      {\n        resName:JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n        newName:newName\n      })\n      alert(\"Updated successfully\")\n}\n\n\n\n\n\n  function editRestaurantLocation() {\n      Axios.put(\"http://localhost:3001/EditLocation\",\n      {\n        resName:JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n        newLocation:newLocation,\n      })\n      alert(\"Updated successfully\")\n    }\n  function editRestaurantImg() {\n        Axios.put(\"http://localhost:3001/EditImg\",\n        {\n          resName:JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n          newImg:newImg\n        })\n        alert(\"Updated successfully\")\n      }\n  function editRestaurantDescription() {\n        Axios.put(\"http://localhost:3001/EditDescription\",\n        {\n        resName:JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n        newDescription:newDescription\n        })\n        alert(\"Updated successfully\")\n      }\n  function editRestaurantContact() {\n        Axios.put(\"http://localhost:3001/EditContact\",\n        {\n        resName:JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n        newContact:newContact\n        })\n        alert(\"Updated successfully\")\n      }\n  function editRestaurantTimings() {\n        Axios.put(\"http://localhost:3001/EditTimings\",\n        {\n       resName:JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"],\n       newTimings:newTimings\n      })\n      alert(\"Updated successfully\")\n      }\n\n  return(\n    <Fragment>\n    <NavBar />\n    <h2>{JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"]}</h2>\n    <Row style={{margin:\"100px\"}}>\n    <Col>\n    <input\n     type=\"text\"\n     name=\"newName\"\n     placeholder=\"Restaurant\"\n     className=\"form-control\"\n     defaultValue={JSON.parse(localStorage.getItem(\"user\"))[0][\"restaurantName\"]}\n     onChange = {\n       (e) => {\n         setNewName(e.target.value);\n       }\n     }\n    />\n    </Col>\n    <Col>\n      <button type=\"button\" style={{borderRadius:\"100%\",backgroundColor:\"green\",width:\"30px\",height:\"20px\"}} onClick={editRestaurantName}>✔️</button>\n      </Col>\n      </Row>\n\n      <Row style={{margin:\"100px\"}}>\n      <Col>\n      <input\n       type=\"text\"\n       name=\"newLocation\"\n       placeholder=\"Location\"\n       className=\"form-control\"\n       onChange = {\n         (e) => {\n           setNewLocation(e.target.value);\n         }\n       }\n      />\n      </Col>\n      <Col>\n      <button type=\"button\" style={{borderRadius:\"100%\",backgroundColor:\"green\",width:\"30px\",height:\"20px\"}} onClick={editRestaurantLocation}>✔️</button>\n      </Col>\n      </Row>\n\n      <Row style={{margin:\"100px\"}}>\n      <Col>\n\t\t\t<input\n      type=\"file\"\n      id=\"fileUpload\"\n      className=\"form-control\"\n      placeholder=\"image\"\n      onChange={\n        (e)=>\n        {\n          handleImageChange(e)\n        }}\n        />\n\t\t\t<span>(jpeg, jpeg or png</span>\n\t\t    )\n      </Col>\n      <Col>\n\t\t\t<button type=\"button\" style={{borderRadius:\"100%\",backgroundColor:\"green\",width:\"30px\",height:\"20px\"}} onClick={editRestaurantImg}>✔️</button>\n      </Col>\n      </Row>\n\n          <Row style={{margin:\"100px\"}}>\n          <Col>\n          <input\n           type=\"text\"\n           name=\"newDescription\"\n           placeholder=\"Description\"\n           className=\"form-control\"\n           onChange = {\n             (e) => {\n               setNewDescription(e.target.value);\n             }\n           }\n          />\n          </Col>\n          <Col>\n            <button type=\"button\" style={{borderRadius:\"100%\",backgroundColor:\"green\",width:\"30px\",height:\"20px\"}} onClick={editRestaurantDescription}>✔️</button>\n            </Col>\n            </Row>\n\n            <Row style={{margin:\"100px\"}}>\n            <Col>\n            <input\n             type=\"tel\"\n             name=\"newContact\"\n             placeholder=\"Contact\"\n             className=\"form-control\"\n             onChange = {\n               (e) => {\n                 setNewContact(e.target.value);\n               }\n             }\n            />\n            </Col>\n            <Col>\n              <button type=\"button\" style={{borderRadius:\"100%\",backgroundColor:\"green\",width:\"30px\",height:\"20px\"}} onClick={editRestaurantContact}>✔️</button>\n              </Col>\n              </Row>\n\n              <Row style={{margin:\"100px\"}}>\n              <Col>\n              <input\n               type=\"text\"\n               name=\"newTimings\"\n               placeholder=\"Timings\"\n               className=\"form-control\"\n               onChange = {\n                 (e) => {\n                   setNewTimings(e.target.value);\n                 }\n               }\n              />\n              </Col>\n              <Col>\n                <button type=\"button\" style={{borderRadius:\"100%\",backgroundColor:\"green\",width:\"30px\",height:\"20px\"}} onClick={editRestaurantTimings}>✔️</button>\n                </Col>\n                </Row>\n\n    </Fragment>\n  );\n\n}\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}